<template>
    <template if:true={boolVisible}>  
    <div style="width:200px; padding-left:50px">
        <lightning-input type="text" label="Primary Object" name="input1"></lightning-input>
        <lightning-input type="text" label="Secondary Object" name="input2"></lightning-input>
        <lightning-input type="text" label="Secondary Fields" name="input4"></lightning-input>
        <br>
        <center>
            <lightning-button label="Click" onclick={submitObjAndFields} variant="brand"></lightning-button>
        </center>
    </div>
</template>  
<div class="card_wrapper">
        <!-- <table>
            <thead>  
                <tr>
                    <template for:each={parentRecordList} for:item= "parentRec">
                        <td key={parentRec.Id} style="padding-left: 0.5%;padding-right: 0.5%;">
                            <lightning-card   variant="narrow" >
                                <p class="slds-p-horizontal_small">
                                    <template for:each={parentRec.rec} for:item= "record1">
                                        <div key={record1}>
                                            {record1}
                                        </div>
                                    </template>
                                </p>
                                <div slot="actions">  

                                </div>
                                <div slot="footer">
                        
                                </div> 
                            </lightning-card>
                            <c-dynamic-kanban-table-list records={parentRec.childRec} key={parentRec.Id} stage={displayChildFields} 
                                onlistitemdrag={handleListItemDrag}
                                onitemdrop={handleItemDrop}
                                ></c-dynamic-kanban-table-list>
                        </td>
                    </template>
                </tr>          
            </thead> -->

            <lightning-layout vertical-align="stretch" multiple-rows="true" class="x-large">
                <template for:each={parentRecordList} for:item= "parentRec">

                    <lightning-card  variant="narrow"  key={parentRec}>
                        <p class="slds-p-horizontal_small">
                            <template for:each={parentRec.rec} for:item= "record1">
                                <div key={record1}>
                                    {record1}
                                </div>
                            </template>
                        </p>
                        <div slot="actions">  

                        </div>
                        <div slot="footer"> 
                
                        </div> 
                    </lightning-card>
                        <template if:true={parentRec.childRec} for:each={parentRec.childRec} for:item= "parentRec1">
                            <lightning-layout-item flexibility="auto" padding="around-small" class="custom-box" key={parentRec1.Id} >
                                <div id={parentRec1.Id} style="height:100%" data-role="drop-target" ondrop={handleDrop} ondragenter={handleDragEnter} ondragover={handleDragOver} ondragleave={handleDragLeave}>
                                    <!-- <template if:true={taskInProgressList}> -->
                                        <lightning-card style="width: 50px;"  variant="Narrow" title={data} icon-name="custom:custom18">
                                            <ul class="slds-p-around_small" key={parentRec1.Id} draggable="true" id={parentRec1.Id} data-target-id={parentRec.Id} data-id={parentRec1.Id} ondragstart={taskDragStart} ondragend={taskDragEnd} >
                                                <template for:each={parentRec1.uiRec2} for:item="data" for:index="index">
                                                    <lightning-layout-item key={parentRec1.Id}>
                                                            <div class="slds-p-horizontal_small"  > 
                                                            <!-- <li key={citiname.Id}> -->
                                                                {data}
                                                            </div>  
                                                    </lightning-layout-item>
                                                </template> 
                                            </ul>
                                        </lightning-card>
                                    <!-- </template> -->
                                </div>
                            </lightning-layout-item>

                        </template>
                        <template if:false={parentRecordList.childRec} for:each={parentRecordList} for:item= "parentRec">
                            <div key={parentRecordList} data-role="drop-target" ondrop={handleDrop} ondragenter={handleDragEnter} ondragover={handleDragOver} ondragleave={handleDragLeave}>
                                <div class="box">
                                    
                                </div> 
                            </div>
                        </template>  
                </template>


               

            <!-- <tbody> 
                <tr>  
                    <template for:each={displayChildFields} for:item="rowData1"> 
                        <td key={rowData1}>{rowData1}</td>  
                    </template>
                </tr>  
                <tr>  
                <template for:each={parentRecordList} for:item= "childRec1" for:index="index">
                  <tr key={childRec1.Id}>
                   
                        <template if:true={childRec1} for:each={childRec1.childRec} for:item= "contact">
                            <tr  key={childRec1.Id} style="border: 1px solid black; " draggable="true" ondragstart={drag}>
                           
                            
                                <template for:each={contact} for:item= "contact1" for:index="index"> 
                                    <td key={childRec1.Id} style="padding-left: 0.5%;padding-right: 0.5%;">
                                <div id={childRec1.Id}  data-item={index}  ondragover={allowDrop} ondrop={drop}>
                                    <div key={childRec1.Id} id={childRec1.Id} data-item={index}   >
                                        {contact1} 
                                    </div> -->

                                    <!-- <div if:false={childRec1.rec} data-item={index} class="slds-align--absolute-center" >                          
                                        Please drop here
                                    </div> -->
                                <!-- </div>
                            </td> 
                        </template>
                           
                        </tr>
                        </template>
                    </tr> 
                </template> 
            </tr>   
            </tbody> -->
<!--       
        </table> -->
    </lightning-layout>
     </div> 
</template>